# 経路作成ツール

自動運転車両のための経路を簡単に作成し、ROS2 経由で配信するためのグラフィカルツールです。

## 機能

-   経路点（ウェイポイント）の追加、削除、並べ替え
-   3D 空間での経路定義（X, Y, Z 座標）
-   経路データの CSV ファイルへのエクスポート
-   ROS2 トピック `/path` 経由でのリアルタイム経路配信

## 必要条件

-   ROS2（Humble 以降推奨）
-   Python 3.8 以上
-   PyQt5

## 使用方法

### ツールの起動

```bash
python3 src/path_creator/main_window.py
```

### 基本操作

1. **経路点の追加**

    - X、Y、Z 座標を入力し、「経路点を追加」ボタンをクリックします
    - Z は省略可能で、デフォルト値は 0.0 です

2. **経路点の管理**

    - 上下ボタンで選択した経路点の順序を変更できます
    - 削除ボタンで選択した経路点を削除できます

3. **経路のエクスポート**
    - 「CSV にエクスポート」ボタンをクリックしてファイルに保存します

### ROS2 との連携

-   作成した経路は自動的に `/path` トピックとして配信されます
-   他の ROS2 ノードからこのトピックをサブスクライブして経路データを利用できます
-   配信される経路データは標準的な `nav_msgs/Path` メッセージ形式です

## トラブルシューティング

-   ツールが起動しない場合は、ROS2 環境が正しく設定されているか確認してください
-   パスが表示されない場合は、適切なビジュアライゼーションツール（RViz など）を使用してトピックを購読していることを確認してください

## ライセンス

MIT License
